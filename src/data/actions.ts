// Action definitions (40+ actions)

import { ActionDefinition } from '../sim/types';
import { DYNAMIC_ACTIONS } from './dynamicActions';
import { COST_SAVING_ACTIONS } from './costSavingActions';

export const ACTIONS: ActionDefinition[] = [
  // === COST SAVING & OPTIMIZATION ACTIONS ===
  ...COST_SAVING_ACTIONS,
  
  // === DYNAMIC ARCHITECTURE OPERATIONS (20 operations) ===
  ...DYNAMIC_ACTIONS,
  
  // === ORIGINAL ACTIONS (40+ actions) ===
  // === COMPUTE & SCALING ===
  {
    id: 'scale_app_1',
    name: 'Scale APP +1',
    description: 'Add 1 instance to app cluster',
    category: 'Compute',
    target: 'app',
    oneTimeCost: 100,
    recurringCostDelta: 0.15,
    durationSeconds: 30,
    successChance: 0.98,
    cooldownSeconds: 10,
    effects: {
      scaleNode: { nodeId: 'app', delta: 1 },
    },
  },
  {
    id: 'scale_app_2',
    name: 'Scale APP +2',
    description: 'Add 2 instances to app cluster',
    category: 'Compute',
    target: 'app',
    oneTimeCost: 180,
    recurringCostDelta: 0.3,
    durationSeconds: 40,
    successChance: 0.97,
    cooldownSeconds: 15,
    effects: {
      scaleNode: { nodeId: 'app', delta: 2 },
    },
  },
  {
    id: 'scale_app_5',
    name: 'Scale APP +5',
    description: 'Add 5 instances to app cluster',
    category: 'Compute',
    target: 'app',
    oneTimeCost: 400,
    recurringCostDelta: 0.75,
    durationSeconds: 60,
    successChance: 0.95,
    cooldownSeconds: 30,
    effects: {
      scaleNode: { nodeId: 'app', delta: 5 },
    },
  },
  {
    id: 'scale_app_vertical',
    name: 'Upgrade APP (Vertical)',
    description: 'Upgrade instance types (risky, downtime possible)',
    category: 'Compute',
    target: 'app',
    oneTimeCost: 500,
    recurringCostDelta: 0.2,
    durationSeconds: 20,
    successChance: 0.85,
    cooldownSeconds: 180,
    effects: {
      statChanges: { capacity: 2000 },
      downtimeRisk: 0.15,
    },
  },
  {
    id: 'enable_autoscaling',
    name: 'Enable Autoscaling',
    description: 'Enable CPU-based autoscaling for APP',
    category: 'Compute',
    target: 'app',
    oneTimeCost: 300,
    recurringCostDelta: 0.05,
    durationSeconds: 60,
    successChance: 0.95,
    cooldownSeconds: 300,
    effects: {
      featureToggle: { feature: 'autoscaling', value: true },
      statChanges: { reliability: 0.02 },
    },
  },

  // === NETWORKING & TRAFFIC ===
  {
    id: 'enable_rate_limit_waf',
    name: 'Enable Rate Limiting (WAF)',
    description: 'Set rate limit at WAF layer',
    category: 'Networking',
    target: 'waf',
    oneTimeCost: 50,
    recurringCostDelta: 0.02,
    durationSeconds: 10,
    successChance: 0.99,
    cooldownSeconds: 30,
    effects: {
      featureToggle: { feature: 'rateLimit', value: 1000 },
      statChanges: { security: 0.05 },
    },
  },
  {
    id: 'enable_bot_protection',
    name: 'Enable Bot Protection',
    description: 'Add bot detection to WAF',
    category: 'Networking',
    target: 'waf',
    oneTimeCost: 200,
    recurringCostDelta: 0.1,
    durationSeconds: 30,
    successChance: 0.97,
    cooldownSeconds: 60,
    effects: {
      featureToggle: { feature: 'botProtection', value: true },
      statChanges: { security: 0.1 },
    },
  },
  {
    id: 'increase_cdn_ttl',
    name: 'Increase CDN TTL',
    description: 'Increase cache TTL to 600s',
    category: 'Networking',
    target: 'cdn',
    oneTimeCost: 0,
    recurringCostDelta: 0,
    durationSeconds: 5,
    successChance: 1.0,
    cooldownSeconds: 60,
    effects: {
      featureToggle: { feature: 'cacheTTL', value: 600 },
    },
  },
  {
    id: 'purge_cdn_cache',
    name: 'Purge CDN Cache',
    description: 'Immediately clear CDN cache',
    category: 'Networking',
    target: 'cdn',
    oneTimeCost: 50,
    recurringCostDelta: 0,
    durationSeconds: 0,
    successChance: 1.0,
    cooldownSeconds: 120,
    effects: {
      // Causes temporary spike
      reputationDelta: -2,
    },
  },
  {
    id: 'enable_rate_limit_apigw',
    name: 'Enable Rate Limiting (APIGW)',
    description: 'Set rate limit at API Gateway',
    category: 'Networking',
    target: 'apigw',
    oneTimeCost: 30,
    recurringCostDelta: 0.01,
    durationSeconds: 5,
    successChance: 0.99,
    cooldownSeconds: 30,
    effects: {
      featureToggle: { feature: 'rateLimit', value: 500 },
      statChanges: { security: 0.03 },
    },
  },

  // === RELIABILITY PATTERNS ===
  {
    id: 'enable_circuit_breaker',
    name: 'Enable Circuit Breaker',
    description: 'Add circuit breaker pattern to APP',
    category: 'Reliability',
    target: 'app',
    oneTimeCost: 150,
    recurringCostDelta: 0.02,
    durationSeconds: 45,
    successChance: 0.96,
    cooldownSeconds: 120,
    effects: {
      featureToggle: { feature: 'circuitBreaker', value: true },
      statChanges: { reliability: 0.05, errorRate: -0.01 },
    },
  },
  {
    id: 'enable_retries',
    name: 'Enable Retries',
    description: 'Add retry logic (can cause retry storms)',
    category: 'Reliability',
    target: 'app',
    oneTimeCost: 80,
    recurringCostDelta: 0,
    durationSeconds: 20,
    successChance: 0.98,
    cooldownSeconds: 60,
    effects: {
      featureToggle: { feature: 'retries', value: true },
      statChanges: { reliability: 0.02 },
      techDebt: 5,
    },
  },
  {
    id: 'enable_canary',
    name: 'Enable Canary Deploy',
    description: 'Set up canary deployment process',
    category: 'Reliability',
    target: 'app',
    oneTimeCost: 300,
    recurringCostDelta: 0.05,
    durationSeconds: 30,
    successChance: 0.92,
    cooldownSeconds: 300,
    requires: {
      minUsers: 10000,
    },
    effects: {
      featureToggle: { feature: 'canaryDeploy', value: true },
      statChanges: { reliability: 0.08 },
    },
  },
  {
    id: 'rollback_deploy',
    name: 'Rollback Deploy',
    description: 'Roll back to previous version',
    category: 'Reliability',
    target: 'app',
    oneTimeCost: 0,
    recurringCostDelta: 0,
    durationSeconds: 30,
    successChance: 0.95,
    cooldownSeconds: 60,
    effects: {
      statChanges: { errorRate: -0.05 },
      reputationDelta: -5,
    },
  },

  // === DATABASE ===
  {
    id: 'increase_db_connections',
    name: 'Increase DB Connections',
    description: 'Quick fix: raise max connections (tech debt)',
    category: 'Database',
    target: 'db_primary',
    oneTimeCost: 0,
    recurringCostDelta: 0.1,
    durationSeconds: 5,
    successChance: 1.0,
    cooldownSeconds: 30,
    effects: {
      featureToggle: { feature: 'maxConnections', value: 200 },
      techDebt: 10,
    },
  },
  {
    id: 'add_connection_pooler',
    name: 'Add Connection Pooler',
    description: 'Deploy pgbouncer/pooler',
    category: 'Database',
    target: 'db_primary',
    oneTimeCost: 200,
    recurringCostDelta: 0.1,
    durationSeconds: 20,
    successChance: 0.95,
    cooldownSeconds: 180,
    effects: {
      featureToggle: { feature: 'connectionPool', value: true },
      statChanges: { capacity: 1000, reliability: 0.03 },
    },
  },
  {
    id: 'upgrade_db_replica',
    name: 'Upgrade Read Replica',
    description: 'Add/upgrade read replica',
    category: 'Database',
    target: 'db_replica',
    oneTimeCost: 500,
    recurringCostDelta: 0.4,
    durationSeconds: 20,
    successChance: 0.93,
    cooldownSeconds: 300,
    requires: {
      minUsers: 50000,
    },
    effects: {
      scaleNode: { nodeId: 'db_replica', delta: 1 },
      statChanges: { capacity: 1000 },
    },
  },
  {
    id: 'failover_to_replica',
    name: 'Failover to Replica',
    description: 'Promote replica to primary (risky)',
    category: 'Database',
    target: 'db_primary',
    oneTimeCost: 0,
    recurringCostDelta: 0,
    durationSeconds: 60,
    successChance: 0.8,
    cooldownSeconds: 300,
    effects: {
      downtimeRisk: 0.3,
      reputationDelta: -5,
    },
  },
  {
    id: 'optimize_queries',
    name: 'Optimize Slow Queries',
    description: 'Tune database queries',
    category: 'Database',
    target: 'db_primary',
    oneTimeCost: 100,
    recurringCostDelta: 0,
    durationSeconds: 45,
    successChance: 0.9,
    cooldownSeconds: 600,
    effects: {
      statChanges: { latency: -5, capacity: 500 },
    },
  },
  {
    id: 'scale_db_vertical',
    name: 'Upgrade DB Instance',
    description: 'Vertical scale database (downtime risk)',
    category: 'Database',
    target: 'db_primary',
    oneTimeCost: 800,
    recurringCostDelta: 0.3,
    durationSeconds: 30,
    successChance: 0.85,
    cooldownSeconds: 600,
    effects: {
      statChanges: { capacity: 2000 },
      downtimeRisk: 0.2,
    },
  },

  // === QUEUE/WORKERS ===
  {
    id: 'increase_queue_throughput',
    name: 'Increase Queue Throughput',
    description: 'Scale up message queue',
    category: 'Queue',
    target: 'queue',
    oneTimeCost: 150,
    recurringCostDelta: 0.1,
    durationSeconds: 30,
    successChance: 0.97,
    cooldownSeconds: 60,
    effects: {
      statChanges: { capacity: 2000 },
    },
  },
  {
    id: 'add_workers_2',
    name: 'Add Workers +2',
    description: 'Add 2 worker instances',
    category: 'Queue',
    target: 'workers',
    oneTimeCost: 100,
    recurringCostDelta: 0.3,
    durationSeconds: 30,
    successChance: 0.98,
    cooldownSeconds: 20,
    effects: {
      scaleNode: { nodeId: 'workers', delta: 2 },
    },
  },
  {
    id: 'add_workers_5',
    name: 'Add Workers +5',
    description: 'Add 5 worker instances',
    category: 'Queue',
    target: 'workers',
    oneTimeCost: 220,
    recurringCostDelta: 0.7,
    durationSeconds: 45,
    successChance: 0.96,
    cooldownSeconds: 30,
    effects: {
      scaleNode: { nodeId: 'workers', delta: 5 },
    },
  },
  {
    id: 'pause_workers',
    name: 'Pause Workers',
    description: 'Temporarily pause async workers',
    category: 'Queue',
    target: 'workers',
    oneTimeCost: 0,
    recurringCostDelta: 0,
    durationSeconds: 0,
    successChance: 1.0,
    cooldownSeconds: 60,
    effects: {
      statChanges: { capacity: -10000 },
    },
  },
  {
    id: 'resume_workers',
    name: 'Resume Workers',
    description: 'Resume async workers',
    category: 'Queue',
    target: 'workers',
    oneTimeCost: 0,
    recurringCostDelta: 0,
    durationSeconds: 0,
    successChance: 1.0,
    cooldownSeconds: 60,
    effects: {
      statChanges: { capacity: 10000 },
    },
  },

  // === SECURITY ===
  {
    id: 'rotate_secrets',
    name: 'Rotate Secrets',
    description: 'Rotate API keys and secrets',
    category: 'Security',
    target: 'global',
    oneTimeCost: 50,
    recurringCostDelta: 0,
    durationSeconds: 60,
    successChance: 0.95,
    cooldownSeconds: 300,
    effects: {
      statChanges: { security: 0.05 },
    },
  },
  {
    id: 'enable_secrets_manager',
    name: 'Enable Secrets Manager',
    description: 'Deploy secrets management solution',
    category: 'Security',
    target: 'global',
    oneTimeCost: 300,
    recurringCostDelta: 0.05,
    durationSeconds: 20,
    successChance: 0.93,
    cooldownSeconds: 600,
    effects: {
      statChanges: { security: 0.1, reliability: 0.02 },
    },
  },
  {
    id: 'security_audit',
    name: 'Run Security Audit',
    description: 'Comprehensive security review',
    category: 'Security',
    target: 'global',
    oneTimeCost: 500,
    recurringCostDelta: 0,
    durationSeconds: 60,
    successChance: 0.98,
    cooldownSeconds: 1800,
    effects: {
      statChanges: { security: 0.15 },
      techDebt: -20,
    },
  },
  {
    id: 'patch_dependency',
    name: 'Patch Dependencies',
    description: 'Update vulnerable dependencies',
    category: 'Security',
    target: 'app',
    oneTimeCost: 80,
    recurringCostDelta: 0,
    durationSeconds: 30,
    successChance: 0.92,
    cooldownSeconds: 300,
    effects: {
      statChanges: { security: 0.08 },
      techDebt: -10,
      downtimeRisk: 0.05,
    },
  },
  {
    id: 'renew_tls_cert',
    name: 'Renew TLS Certificate',
    description: 'Renew SSL/TLS certificate immediately',
    category: 'Security',
    target: 'cdn',
    oneTimeCost: 50,
    recurringCostDelta: 0,
    durationSeconds: 60,
    successChance: 0.98,
    cooldownSeconds: 180,
    effects: {
      statChanges: { security: 0.05 },
    },
  },

  // === OBSERVABILITY ===
  {
    id: 'upgrade_observability_metrics',
    name: 'Upgrade: Metrics',
    description: 'Add metrics collection (from Logs)',
    category: 'Observability',
    target: 'observability',
    oneTimeCost: 400,
    recurringCostDelta: 0.2,
    durationSeconds: 20,
    successChance: 0.95,
    cooldownSeconds: 600,
    requires: {
      observabilityLevel: 'BASIC',
    },
    effects: {
      statChanges: { mttrMultiplier: 0.7 },
    },
  },
  {
    id: 'upgrade_observability_traces',
    name: 'Upgrade: Traces',
    description: 'Add distributed tracing (from Metrics)',
    category: 'Observability',
    target: 'observability',
    oneTimeCost: 800,
    recurringCostDelta: 0.4,
    durationSeconds: 30,
    successChance: 0.92,
    cooldownSeconds: 600,
    requires: {
      observabilityLevel: 'METRICS',
      minUsers: 20000,
    },
    effects: {
      statChanges: { mttrMultiplier: 0.5 },
    },
  },
  {
    id: 'add_alert_rules',
    name: 'Add Alert Rules',
    description: 'Create alerting rules (reduces MTTR, increases fatigue)',
    category: 'Observability',
    target: 'observability',
    oneTimeCost: 100,
    recurringCostDelta: 0.05,
    durationSeconds: 60,
    successChance: 0.97,
    cooldownSeconds: 120,
    effects: {
      statChanges: { mttrMultiplier: 0.85 },
    },
  },
  {
    id: 'hire_sre',
    name: 'Hire SRE',
    description: 'Hire an SRE (reduces MTTR, increases cost)',
    category: 'Observability',
    target: 'global',
    oneTimeCost: 1000,
    recurringCostDelta: 2.0,
    durationSeconds: 45,
    successChance: 0.95,
    cooldownSeconds: 1800,
    requires: {
      minCash: 5000,
    },
    effects: {
      statChanges: { mttrMultiplier: 0.6 },
    },
  },

  // === BUSINESS ===
  {
    id: 'raise_angel',
    name: 'Raise Funds: Angel',
    description: 'Raise $10k from angel investors (+reputation boost)',
    category: 'Business',
    target: 'global',
    oneTimeCost: -10000,
    recurringCostDelta: 0,
    durationSeconds: 0,
    successChance: 0.9,
    cooldownSeconds: 3600,
    effects: {
      reputationDelta: 10, // Increased from 5
    },
  },
  {
    id: 'raise_seed',
    name: 'Raise Funds: Seed',
    description: 'Raise $50k from seed round (+reputation boost)',
    category: 'Business',
    target: 'global',
    oneTimeCost: -50000,
    recurringCostDelta: 0,
    durationSeconds: 0,
    successChance: 0.85,
    cooldownSeconds: 3600,
    requires: {
      minUsers: 10000,
    },
    effects: {
      reputationDelta: 15, // Increased from 10
    },
  },
  {
    id: 'raise_series_a',
    name: 'Raise Funds: Series A',
    description: 'Raise $200k from Series A (+reputation boost)',
    category: 'Business',
    target: 'global',
    oneTimeCost: -200000,
    recurringCostDelta: 0,
    durationSeconds: 0,
    successChance: 0.7,
    cooldownSeconds: 3600,
    requires: {
      minUsers: 50000,
      minCash: 0,
    },
    effects: {
      reputationDelta: 25, // Increased from 20
    },
  },
  {
    id: 'increase_price',
    name: 'Increase Price',
    description: 'Raise pricing (revenue +, churn +)',
    category: 'Business',
    target: 'global',
    oneTimeCost: 0,
    recurringCostDelta: 0,
    durationSeconds: 0,
    successChance: 1.0,
    cooldownSeconds: 600,
    effects: {
      reputationDelta: -5,
    },
  },
  {
    id: 'marketing_campaign',
    name: 'Marketing Campaign',
    description: 'Boost growth and reputation (traffic spike risk)',
    category: 'Business',
    target: 'global',
    oneTimeCost: 1000,
    recurringCostDelta: 0.5,
    durationSeconds: 45,
    successChance: 0.95,
    cooldownSeconds: 600,
    effects: {
      reputationDelta: 8, // Increased from 3
    },
  },
  {
    id: 'pr_campaign',
    name: 'PR Campaign',
    description: 'Public relations campaign to rebuild reputation',
    category: 'Business',
    target: 'global',
    oneTimeCost: 500,
    recurringCostDelta: 0,
    durationSeconds: 120,
    successChance: 0.95,
    cooldownSeconds: 300,
    effects: {
      reputationDelta: 15, // Direct reputation boost
    },
  },

  // === REGION EXPANSION ===
  {
    id: 'add_region_eu',
    name: 'Add Region: EU-West',
    description: 'Deploy second region (unlocks multi-region)',
    category: 'Region',
    target: 'global',
    oneTimeCost: 5000,
    recurringCostDelta: 2.0,
    durationSeconds: 60,
    successChance: 0.88,
    cooldownSeconds: 3600,
    requires: {
      minUsers: 100000,
      minCash: 10000,
    },
    effects: {
      statChanges: { reliability: 0.1 },
      reputationDelta: 10,
    },
  },

  // === CACHE ===
  {
    id: 'scale_cache',
    name: 'Scale Cache',
    description: 'Add cache capacity',
    category: 'Cache',
    target: 'cache',
    oneTimeCost: 200,
    recurringCostDelta: 0.2,
    durationSeconds: 60,
    successChance: 0.97,
    cooldownSeconds: 120,
    effects: {
      statChanges: { capacity: 5000 },
    },
  },
  {
    id: 'flush_cache',
    name: 'Flush Cache',
    description: 'Clear cache (causes spike)',
    category: 'Cache',
    target: 'cache',
    oneTimeCost: 0,
    recurringCostDelta: 0,
    durationSeconds: 0,
    successChance: 1.0,
    cooldownSeconds: 180,
    effects: {
      reputationDelta: -3,
    },
  },

  // === LOAD BALANCER ===
  {
    id: 'scale_rlb',
    name: 'Scale Regional LB',
    description: 'Add RLB capacity',
    category: 'Networking',
    target: 'rlb',
    oneTimeCost: 300,
    recurringCostDelta: 0.1,
    durationSeconds: 45,
    successChance: 0.96,
    cooldownSeconds: 120,
    effects: {
      scaleNode: { nodeId: 'rlb', delta: 1 },
    },
  },

  // === COST REDUCTION ACTIONS ===
  {
    id: 'scale_down_app_1',
    name: 'Scale Down APP -1',
    description: 'Remove 1 app instance (saves cost)',
    category: 'Cost Reduction',
    target: 'app',
    oneTimeCost: 0,
    recurringCostDelta: -0.15,
    durationSeconds: 20,
    successChance: 0.99,
    cooldownSeconds: 10,
    effects: {
      scaleNode: { nodeId: 'app', delta: -1 },
    },
  },
  {
    id: 'scale_down_workers_2',
    name: 'Scale Down Workers -2',
    description: 'Remove 2 worker instances (saves cost)',
    category: 'Cost Reduction',
    target: 'workers',
    oneTimeCost: 0,
    recurringCostDelta: -0.3,
    durationSeconds: 20,
    successChance: 0.99,
    cooldownSeconds: 10,
    effects: {
      scaleNode: { nodeId: 'workers', delta: -2 },
    },
  },
  {
    id: 'disable_cache',
    name: 'Disable Cache',
    description: 'Turn off cache to save cost (increases DB load)',
    category: 'Cost Reduction',
    target: 'cache',
    oneTimeCost: 0,
    recurringCostDelta: -0.2,
    durationSeconds: 5,
    successChance: 1.0,
    cooldownSeconds: 60,
    effects: {
      statChanges: { capacity: -9000 },
      techDebt: 15,
    },
  },
  {
    id: 'enable_cache_back',
    name: 'Re-enable Cache',
    description: 'Turn cache back on',
    category: 'Cost Reduction',
    target: 'cache',
    oneTimeCost: 0,
    recurringCostDelta: 0.2,
    durationSeconds: 5,
    successChance: 1.0,
    cooldownSeconds: 60,
    effects: {
      statChanges: { capacity: 9000 },
    },
  },
  {
    id: 'reduce_observability',
    name: 'Downgrade Observability',
    description: 'Reduce observability to save cost (increases MTTR)',
    category: 'Cost Reduction',
    target: 'observability',
    oneTimeCost: 0,
    recurringCostDelta: -0.3,
    durationSeconds: 10,
    successChance: 1.0,
    cooldownSeconds: 120,
    effects: {
      statChanges: { mttrMultiplier: 1.5 },
    },
  },
  {
    id: 'scale_down_cdn',
    name: 'Scale Down CDN',
    description: 'Reduce CDN capacity (saves cost)',
    category: 'Cost Reduction',
    target: 'cdn',
    oneTimeCost: 0,
    recurringCostDelta: -0.05,
    durationSeconds: 15,
    successChance: 0.99,
    cooldownSeconds: 60,
    effects: {
      scaleNode: { nodeId: 'cdn', delta: -1 },
    },
  },
  {
    id: 'disable_bot_protection_save',
    name: 'Disable Bot Protection',
    description: 'Turn off bot protection to save cost (security risk)',
    category: 'Cost Reduction',
    target: 'waf',
    oneTimeCost: 0,
    recurringCostDelta: -0.1,
    durationSeconds: 5,
    successChance: 1.0,
    cooldownSeconds: 60,
    effects: {
      featureToggle: { feature: 'botProtection', value: false },
      statChanges: { security: -0.1 },
    },
  },
  {
    id: 'reduce_db_connections_save',
    name: 'Reduce DB Connections',
    description: 'Lower max connections to save resources',
    category: 'Cost Reduction',
    target: 'db_primary',
    oneTimeCost: 0,
    recurringCostDelta: -0.05,
    durationSeconds: 5,
    successChance: 1.0,
    cooldownSeconds: 30,
    effects: {
      featureToggle: { feature: 'maxConnections', value: 50 },
    },
  },

  // === EMERGENCY RECOVERY ===
  {
    id: 'emergency_restart',
    name: 'Emergency Restart',
    description: 'Force restart all app instances (no cooldown)',
    category: 'Emergency',
    target: 'app',
    oneTimeCost: 0,
    recurringCostDelta: 0,
    durationSeconds: 15,
    successChance: 0.9,
    cooldownSeconds: 30,
    effects: {
      statChanges: { errorRate: -0.5 },
      reputationDelta: -3,
    },
  },
  {
    id: 'force_scale_app',
    name: 'Force Scale APP +3',
    description: 'Emergency scaling (bypasses some checks)',
    category: 'Emergency',
    target: 'app',
    oneTimeCost: 300,
    recurringCostDelta: 0.45,
    durationSeconds: 15,
    successChance: 0.95,
    cooldownSeconds: 45,
    effects: {
      scaleNode: { nodeId: 'app', delta: 3 },
    },
  },
  {
    id: 'kill_all_connections',
    name: 'Kill All Connections',
    description: 'Force disconnect all clients (drastic measure)',
    category: 'Emergency',
    target: 'app',
    oneTimeCost: 0,
    recurringCostDelta: 0,
    durationSeconds: 5,
    successChance: 1.0,
    cooldownSeconds: 120,
    effects: {
      statChanges: { errorRate: -0.3 },
      reputationDelta: -10,
    },
  },
  {
    id: 'restart_database',
    name: 'Restart Database',
    description: 'Emergency DB restart (risky, short downtime)',
    category: 'Emergency',
    target: 'db_primary',
    oneTimeCost: 0,
    recurringCostDelta: 0,
    durationSeconds: 20,
    successChance: 0.85,
    cooldownSeconds: 300,
    effects: {
      statChanges: { errorRate: -0.4 },
      downtimeRisk: 0.3,
      reputationDelta: -5,
    },
  },
];

